<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Resume Analysis Tool</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.4.0/mammoth.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        :root {
            --primary-color: #2563eb;
            --secondary-color: #1e40af;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --light-bg: #f9fafb;
            --dark-text: #1f2937;
            --gray-text: #6b7280;
            --border-color: #e5e7eb;
            --card-bg: #ffffff;
        }
        
        body {
            font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px;
            color: var(--dark-text);
            background-color: var(--light-bg);
        }
        
        h1, h2, h3, h4 {
            color: var(--dark-text);
            margin-top: 0;
        }
        
        h1 {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 10px;
            font-weight: 800;
        }
        
        .description {
            text-align: center;
            color: var(--gray-text);
            margin-bottom: 30px;
            font-size: 1.1rem;
        }
        
        .upload-container {
            border: 2px dashed var(--border-color);
            padding: 40px;
            text-align: center;
            margin: 20px 0;
            border-radius: 12px;
            background: var(--card-bg);
            transition: all 0.3s;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }
        
        .upload-container:hover {
            border-color: var(--primary-color);
        }
        
        .upload-container.drag-over {
            border-color: var(--success-color);
            background-color: #f0fff4;
        }
        
        .card {
            background: var(--card-bg);
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            margin-bottom: 20px;
            padding: 25px;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0,0,0,0.1);
        }
        
        .results {
            display: none;
            margin-top: 30px;
        }
        
        .results-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .score-container {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: conic-gradient(var(--primary-color) var(--angle), #e5e7eb 0);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            position: relative;
        }
        
        .score-circle::before {
            content: '';
            width: 120px;
            height: 120px;
            background: white;
            border-radius: 50%;
            position: absolute;
        }
        
        .score-value {
            font-size: 48px;
            font-weight: bold;
            color: var(--dark-text);
            position: relative;
            z-index: 1;
        }
        
        .score-rating {
            font-size: 1.2rem;
            font-weight: 600;
            margin-top: 15px;
        }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .feedback-section h3 {
            display: flex;
            align-items: center;
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 12px;
            margin-bottom: 20px;
        }
        
        .feedback-section h3 svg {
            margin-right: 10px;
        }
        
        .feedback-list {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }
        
        .feedback-item {
            padding: 12px 15px;
            margin-bottom: 12px;
            background: #f8f9fa;
            border-left: 4px solid var(--primary-color);
            border-radius: 0 6px 6px 0;
            font-size: 0.95rem;
        }
        
        .strength-item {
            border-left-color: var(--success-color);
        }
        
        .improvement-item {
            border-left-color: var(--warning-color);
        }
        
        .critical-item {
            border-left-color: var(--danger-color);
        }
        
        .btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 25px;
            cursor: pointer;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s;
            margin-top: 15px;
        }
        
        .btn:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .btn:disabled {
            background: #d1d5db;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        #loading {
            display: none;
            text-align: center;
            margin: 30px 0;
        }
        
        .spinner {
            border: 5px solid #f3f3f3;
            border-top: 5px solid var(--primary-color);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .keyword-cloud {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 15px;
        }
        
        .keyword {
            padding: 5px 12px;
            background: #e0f2fe;
            border-radius: 20px;
            font-size: 14px;
            color: #0369a1;
            transition: all 0.2s;
        }
        
        .keyword:hover {
            background: #bae6fd;
            transform: scale(1.05);
        }
        
        .keyword-important {
            background: #bae6fd;
            font-weight: 600;
        }
        
        .keyword-critical {
            background: #bfdbfe;
            color: #1e40af;
            font-weight: 700;
        }
        
        .tabs {
            display: flex;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 20px;
        }
        
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            font-weight: 600;
            transition: all 0.2s;
        }
        
        .tab.active {
            border-bottom-color: var(--primary-color);
            color: var(--primary-color);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .chart-container {
            width: 100%;
            height: 300px;
            margin: 20px 0;
        }
        
        .industry-selector {
            margin: 20px 0;
            padding: 15px;
            background: #f3f4f6;
            border-radius: 8px;
        }
        
        .industry-selector select {
            width: 100%;
            padding: 10px;
            border-radius: 6px;
            border: 1px solid var(--border-color);
            font-size: 16px;
        }
        
        .progress-bar {
            height: 10px;
            background: #e5e7eb;
            border-radius: 5px;
            margin-bottom: 5px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            border-radius: 5px;
            width: 0%;
            transition: width 1s ease-out;
        }
        
        .comparison-label {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
        }
        
        .comparison-label strong {
            color: var(--primary-color);
        }
        
        .text-center {
            text-align: center;
        }
        
        .section-analysis-item {
            margin-bottom: 15px;
        }
        
        .badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 5px;
        }
        
        .badge-success {
            background-color: #d1fae5;
            color: #065f46;
        }
        
        .badge-warning {
            background-color: #fef3c7;
            color: #92400e;
        }
        
        .badge-danger {
            background-color: #fee2e2;
            color: #b91c1c;
        }
        
        .recommendation-card {
            border-left: 4px solid var(--primary-color);
            padding: 15px;
            background: #f9fafb;
            margin-bottom: 15px;
            border-radius: 0 6px 6px 0;
        }
        
        .recommendation-card h4 {
            margin-top: 0;
            margin-bottom: 10px;
            color: var(--dark-text);
        }
        
        .recommendation-examples {
            background: #f3f4f6;
            padding: 10px;
            border-radius: 6px;
            margin-top: 10px;
            font-size: 14px;
        }
        
        .recommendation-examples code {
            display: block;
            margin: 5px 0;
            padding: 5px;
            background: #e5e7eb;
            border-radius: 4px;
        }
        
        /* Additional styling for better mobile experience */
        @media (max-width: 768px) {
            body {
                padding: 15px;
            }
            
            .grid {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .score-circle {
                width: 120px;
                height: 120px;
            }
            
            .score-circle::before {
                width: 90px;
                height: 90px;
            }
            
            .score-value {
                font-size: 36px;
            }
        }
        
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
        }
        
        .tooltip .tooltip-text {
            visibility: hidden;
            width: 200px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 14px;
            font-weight: normal;
        }
        
        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }
        
        /* Print styles */
        @media print {
            .upload-container, .btn, .industry-selector select {
                display: none;
            }
            
            .results {
                display: block !important;
            }
            
            body {
                padding: 0;
                font-size: 12pt;
            }
            
            .card {
                box-shadow: none;
                border: 1px solid #ddd;
                break-inside: avoid;
            }
            
            h1 {
                font-size: 20pt;
            }
            
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <h1>Professional Resume Analysis Tool</h1>
    <p class="description">Get comprehensive feedback on your resume with industry-specific insights and actionable recommendations</p>
    
    <div class="upload-container" id="dropZone">
        <form id="resumeForm">
            <input type="file" id="resumeUpload" accept=".pdf,.doc,.docx" required style="display: none;">
            <input type="hidden" id="resumeText" name="resumeText">
            <label for="resumeUpload" style="cursor: pointer;">
                <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="var(--primary-color)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                    <polyline points="17 8 12 3 7 8"></polyline>
                    <line x1="12" y1="3" x2="12" y2="15"></line>
                </svg>
                <h3>Upload Your Resume</h3>
                <p>Drag & drop your file here or click to browse</p>
                <p>Supported formats: PDF, DOC, DOCX</p>
                <button type="button" id="browseBtn" class="btn">Select File</button>
            </label>
            <div id="fileName" style="margin-top: 15px; font-weight: bold;"></div>
            
            <div class="industry-selector">
                <h3>Select Your Target Industry</h3>
                <p>Choose the industry you're applying to for more relevant feedback:</p>
                <select id="industrySelect">
                    <option value="general">General / Not Specified</option>
                    <option value="tech">Technology / IT</option>
                    <option value="finance">Finance / Banking</option>
                    <option value="healthcare">Healthcare / Medical</option>
                    <option value="marketing">Marketing / Sales</option>
                    <option value="engineering">Engineering</option>
                    <option value="education">Education / Teaching</option>
                    <option value="hospitality">Hospitality / Tourism</option>
                    <option value="manufacturing">Manufacturing / Production</option>
                    <option value="retail">Retail / Customer Service</option>
                    <option value="legal">Legal / Law</option>
                    <option value="creative">Creative Arts / Design</option>
                </select>
            </div>
            
            <div class="industry-selector">
                <h3>Experience Level</h3>
                <p>This helps us provide appropriate recommendations for your career stage:</p>
                <select id="experienceSelect">
                    <option value="entry">Entry Level (0-2 years)</option>
                    <option value="mid">Mid-Level (3-5 years)</option>
                    <option value="senior">Senior Level (6-10 years)</option>
                    <option value="executive">Executive Level (10+ years)</option>
                </select>
            </div>
            
            <button type="submit" id="analyzeBtn" class="btn" disabled>Analyze Resume</button>
        </form>
    </div>
    
    <div id="loading">
        <div class="spinner"></div>
        <p>Analyzing your resume...</p>
        <p id="analysisStep">Extracting text content</p>
    </div>
    
    <div id="results" class="results">
        <div class="results-header">
            <h2>Resume Analysis Results</h2>
            <p>Analysis completed on <span id="analysisDate"></span></p>
        </div>
        
        <div class="tabs">
            <div class="tab active" data-tab="overview">Overview</div>
            <div class="tab" data-tab="detailed">Detailed Analysis</div>
            <div class="tab" data-tab="recommendations">Recommendations</div>
            <div class="tab" data-tab="keywords">Keywords</div>
        </div>
        
        <div id="overview" class="tab-content active">
            <div class="card">
                <div class="score-container">
                    <h2>Your Resume Score</h2>
                    <div class="score-circle">
                        <div class="score-value" id="scoreValue">0</div>
                    </div>
                    <div class="score-rating" id="scoreRating">Average</div>
                    <p>Based on analysis of <span id="wordCount">0</span> words across <span id="sectionCount">0</span> sections</p>
                </div>
                
                <div class="chart-container">
                    <canvas id="radarChart"></canvas>
                </div>
                
                <div class="text-center">
                    <button id="printBtn" class="btn">Save as PDF / Print Results</button>
                </div>
            </div>
            
            <div class="grid">
                <div class="card">
                    <div class="feedback-section">
                        <h3>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--success-color)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                <polyline points="22 4 12 14.01 9 11.01"></polyline>
                            </svg>
                            Key Strengths
                        </h3>
                        <ul id="strengthsList" class="feedback-list"></ul>
                    </div>
                </div>
                
                <div class="card">
                    <div class="feedback-section">
                        <h3>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--warning-color)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="12" y1="8" x2="12" y2="12"></line>
                                <line x1="12" y1="16" x2="12.01" y2="16"></line>
                            </svg>
                            Areas for Improvement
                        </h3>
                        <ul id="improvementsList" class="feedback-list"></ul>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h3>Industry Match Analysis</h3>
                <p>How well your resume matches <span id="selectedIndustry">your selected industry</span>:</p>
                
                <div class="progress-bar">
                    <div id="industryMatchProgress" class="progress-fill"></div>
                </div>
                <div class="comparison-label">
                    <span>Industry Match: <strong id="industryMatchValue">0%</strong></span>
                    <span>Average: 65%</span>
                </div>
                <p id="industryMatchFeedback"></p>
                
                <div id="industryKeywords" class="keyword-cloud"></div>
            </div>
        </div>
        
        <div id="detailed" class="tab-content">
            <div class="card">
                <h3>Content Analysis</h3>
                
                <div class="section-analysis">
                    <div class="section-analysis-item">
                        <h4>Length & Structure <span id="lengthBadge" class="badge"></span></h4>
                        <p id="lengthAnalysis"></p>
                        <div class="progress-bar">
                            <div id="lengthProgress" class="progress-fill"></div>
                        </div>
                        <div class="comparison-label">
                            <span>Your Score: <strong id="lengthScore">0/100</strong></span>
                        </div>
                    </div>
                    
                    <div class="section-analysis-item">
                        <h4>Content Quality <span id="contentBadge" class="badge"></span></h4>
                        <p id="contentAnalysis"></p>
                        <div class="progress-bar">
                            <div id="contentProgress" class="progress-fill"></div>
                        </div>
                        <div class="comparison-label">
                            <span>Your Score: <strong id="contentScore">0/100</strong></span>
                        </div>
                    </div>
                    
                    <div class="section-analysis-item">
                        <h4>Impact Statements <span id="impactBadge" class="badge"></span></h4>
                        <p id="impactAnalysis"></p>
                        <div class="progress-bar">
                            <div id="impactProgress" class="progress-fill"></div>
                        </div>
                        <div class="comparison-label">
                            <span>Your Score: <strong id="impactScore">0/100</strong></span>
                        </div>
                    </div>
                    
                    <div class="section-analysis-item">
                        <h4>Skills & Keywords <span id="keywordsBadge" class="badge"></span></h4>
                        <p id="keywordsAnalysis"></p>
                        <div class="progress-bar">
                            <div id="keywordsProgress" class="progress-fill"></div>
                        </div>
                        <div class="comparison-label">
                            <span>Your Score: <strong id="keywordsScore">0/100</strong></span>
                        </div>
                    </div>
                    
                    <div class="section-analysis-item">
                        <h4>ATS Compatibility <span id="atsBadge" class="badge"></span></h4>
                        <p id="atsAnalysis"></p>
                        <div class="progress-bar">
                            <div id="atsProgress" class="progress-fill"></div>
                        </div>
                        <div class="comparison-label">
                            <span>Your Score: <strong id="atsScore">0/100</strong></span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h3>Section Analysis</h3>
                <div id="sectionAnalysis"></div>
            </div>
            
            <div class="card">
                <h3>Language Analysis</h3>
                <div class="chart-container" style="height: 400px;">
                    <canvas id="languageChart"></canvas>
                </div>
            </div>
        </div>
        
        <div id="recommendations" class="tab-content">
            <div class="card">
                <h3>Personalized Recommendations</h3>
                <div id="recommendationsList"></div>
            </div>
            
            <div class="card">
                <h3>Resume Structure Best Practices</h3>
                <div id="structureRecommendations"></div>
            </div>
            
            <div class="card">
                <h3>ATS Optimization Tips</h3>
                <div id="atsRecommendations"></div>
            </div>
        </div>
        
        <div id="keywords" class="tab-content">
            <div class="card">
                <h3>Keyword Analysis</h3>
                <p>Keywords found in your resume compared to industry standards:</p>
                <div class="chart-container" style="height: 400px;">
                    <canvas id="keywordChart"></canvas>
                </div>
            </div>
            
            <div class="grid">
                <div class="card">
                    <h3>Skills Found</h3>
                    <div id="skillsKeywords" class="keyword-cloud"></div>
                </div>
                
                <div class="card">
                    <h3>Action Verbs</h3>
                    <div id="verbsKeywords" class="keyword-cloud"></div>
                </div>
                
                <div class="card">
                    <h3>Industry-Specific Terms</h3>
                    <div id="industryTerms" class="keyword-cloud"></div>
                </div>
                
                <div class="card">
                    <h3>Recommended Keywords to Add</h3>
                    <div id="recommendedKeywords" class="keyword-cloud"></div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Set PDF.js worker path
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';
        
        // DOM elements
        const dropZone = document.getElementById('dropZone');
        const resumeUpload = document.getElementById('resumeUpload');
        const resumeText = document.getElementById('resumeText');
        const browseBtn = document.getElementById('browseBtn');
        const analyzeBtn = document.getElementById('analyzeBtn');
        const fileName = document.getElementById('fileName');
        const resumeForm = document.getElementById('resumeForm');
        const loadingElement = document.getElementById('loading');
        const resultsElement = document.getElementById('results');
        const analysisStep = document.getElementById('analysisStep');
        const industrySelect = document.getElementById('industrySelect');
        const experienceSelect = document.getElementById('experienceSelect');
        const printBtn = document.getElementById('printBtn');
        
        // Global data storage
        let resumeData = {
            text: '',
            industry: 'general',
            experienceLevel: 'entry',
            analysis: {}
        };
        
        // Industry-specific keywords database
        const industryKeywords = {
            general: [
                'communication', 'teamwork', 'leadership', 'problem-solving', 
                'organization', 'detail-oriented', 'time management', 'self-motivated',
                'adaptable', 'interpersonal skills', 'analytical', 'project management'
            ],
            tech: [
                'agile', 'scrum', 'software development', 'programming', 'javascript',
                'python', 'java', 'cloud', 'aws', 'azure', 'devops', 'ci/cd',
                'react', 'angular', 'vue', 'node.js', 'database', 'sql', 'nosql',
                'machine learning', 'ai', 'data analysis', 'cybersecurity', 'blockchain',
                'containerization', 'docker', 'kubernetes', 'microservices', 'api'
            ],
            finance: [
                'financial analysis', 'accounting', 'budgeting', 'forecasting', 'audit',
                'compliance', 'risk management', 'investment', 'portfolio', 'banking',
                'securities', 'financial reporting', 'excel', 'financial modeling',
                'valuation', 'amortization', 'capital markets', 'equity', 'debt',
                'taxation', 'cpa', 'cfa', 'gaap', 'ifrs', 'sarbanes-oxley'
            ],
            healthcare: [
                'patient care', 'electronic medical records', 'emr', 'hipaa', 'clinical',
                'treatment', 'diagnosis', 'medical', 'healthcare', 'telehealth',
                'patient satisfaction', 'medical coding', 'billing', 'ehr', 'acute care',
                'chronic care', 'rehabilitation', 'patient advocacy', 'health informatics',
                'quality improvement', 'medical devices', 'pharmaceutical'
            ],
            marketing: [
                'digital marketing', 'seo', 'sem', 'social media', 'content strategy',
                'branding', 'market research', 'campaign management', 'analytics',
                'customer acquisition', 'crm', 'advertising', 'public relations',
                'brand awareness', 'roi', 'email marketing', 'lead generation',
                'conversion optimization', 'marketing automation', 'google analytics'
            ],
            engineering: [
                'autocad', 'solidworks', 'product development', 'prototyping',
                'mechanical', 'electrical', 'civil', 'structural', 'systems',
                'design', 'analysis', 'simulation', 'testing', 'quality control',
                'manufacturing', 'industrial', 'process improvement', 'sustainability',
                'cad', 'cam', 'plc', 'robotics', '3d modeling', 'specifications'
            ],
            education: [
                'curriculum development', 'lesson planning', 'student assessment',
                'classroom management', 'differentiated instruction', 'educational technology',
                'iep', 'special education', 'pedagogy', 'student engagement',
                'academic advising', 'educational leadership', 'faculty development',
                'instructional design', 'learning objectives', 'student-centered learning'
            ],
            hospitality: [
                'customer service', 'guest relations', 'hospitality management', 'food service',
                'hotel operations', 'event planning', 'reservation systems', 'tourism',
                'front desk operations', 'guest satisfaction', 'revenue management',
                'housekeeping', 'food & beverage', 'concierge', 'travel coordination'
            ],
            manufacturing: [
                'lean manufacturing', 'six sigma', 'production planning', 'quality assurance',
                'inventory management', 'supply chain', 'process optimization', 'kaizen',
                'continuous improvement', 'just-in-time', 'kanban', 'manufacturing processes',
                'product quality', 'osha', 'efficiency improvement', 'automation'
            ],
            retail: [
                'customer service', 'sales', 'merchandising', 'inventory management',
                'pos systems', 'retail operations', 'cash handling', 'upselling',
                'customer retention', 'visual merchandising', 'sales forecasting',
                'loss prevention', 'retail management', 'product knowledge', 'kpi'
            ],
            legal: [
                'litigation', 'legal research', 'case management', 'contracts',
                'regulatory compliance', 'legal writing', 'discovery', 'depositions',
                'briefs', 'corporate law', 'intellectual property', 'due diligence',
                'negotiations', 'legal documentation', 'paralegal', 'attorney'
            ],
            creative: [
                'design', 'creativity', 'art direction', 'adobe creative suite',
                'photoshop', 'illustrator', 'indesign', 'ui/ux', 'typography',
                'branding', 'portfolio', 'creative direction', 'visual design',
                'sketch', 'figma', 'content creation', 'multimedia', 'user experience'
            ]
        };
        
        // Action verbs by industry
        const industryVerbs = {
            general: [
                'achieved', 'improved', 'managed', 'created', 'developed', 'implemented',
                'led', 'organized', 'provided', 'reduced', 'resolved', 'supported'
            ],
            tech: [
                'programmed', 'developed', 'engineered', 'architected', 'coded', 'debugged', 
                'deployed', 'implemented', 'integrated', 'optimized', 'designed', 'tested',
                'maintained', 'automated', 'scaled', 'refactored'
            ],
            finance: [
                'analyzed', 'budgeted', 'calculated', 'forecasted', 'reconciled', 'audited',
                'allocated', 'balanced', 'maximized', 'reduced', 'streamlined', 'documented'
            ],
            healthcare: [
                'treated', 'diagnosed', 'administered', 'cared', 'assessed', 'documented',
                'monitored', 'improved', 'educated', 'coordinated', 'facilitated', 'provided'
            ],
            marketing: [
                'marketed', 'promoted', 'launched', 'created', 'strategized', 'analyzed',
                'targeted', 'converted', 'generated', 'increased', 'maximized', 'optimized'
            ],
            engineering: [
                'designed', 'developed', 'engineered', 'tested', 'analyzed', 'optimized',
                'fabricated', 'modeled', 'simulated', 'evaluated', 'improved', 'solved'
            ],
            education: [
                'taught', 'educated', 'mentored', 'facilitated', 'developed', 'assessed',
                'instructed', 'guided', 'implemented', 'designed', 'coordinated', 'created'
            ],
            hospitality: [
                'welcomed', 'served', 'assisted', 'maintained', 'coordinated', 'ensured',
                'prepared', 'resolved', 'provided', 'supervised', 'managed', 'trained'
            ],
            manufacturing: [
                'assembled', 'built', 'fabricated', 'operated', 'maintained', 'monitored',
                'streamlined', 'produced', 'installed', 'inspected', 'tested', 'repaired'
            ],
            retail: [
                'sold', 'assisted', 'serviced', 'merchandised', 'managed', 'increased',
                'processed', 'reconciled', 'displayed', 'promoted', 'demonstrated', 'exceeded'
            ],
            legal: [
                'analyzed', 'drafted', 'negotiated', 'litigated', 'represented', 'advised',
                'prepared', 'researched', 'reviewed', 'interpreted', 'mediated', 'argued'
            ],
            creative: [
                'designed', 'created', 'conceptualized', 'illustrated', 'produced', 'developed',
                'directed', 'visualized', 'crafted', 'revamped', 'transformed', 'envisioned'
            ]
        };
        
        // Industry-specific section recommendations
        const industrySections = {
            general: [
                'contact information', 'professional summary', 'work experience', 
                'education', 'skills', 'achievements'
            ],
            tech: [
                'contact information', 'professional summary', 'technical skills', 
                'work experience', 'projects', 'education', 'certifications'
            ],
            finance: [
                'contact information', 'professional summary', 'work experience', 
                'education', 'skills', 'certifications', 'licenses', 'achievements'
            ],
            healthcare: [
                'contact information', 'professional summary', 'licenses', 'clinical experience', 
                'education', 'certifications', 'skills', 'publications'
            ],
            marketing: [
                'contact information', 'professional summary', 'work experience', 
                'campaign results', 'skills', 'education', 'portfolio'
            ],
            engineering: [
                'contact information', 'professional summary', 'technical skills', 
                'work experience', 'projects', 'education', 'certifications', 'patents'
            ],
            education: [
                'contact information', 'professional summary', 'teaching experience', 
                'education', 'certifications', 'skills', 'publications', 'professional development'
            ],
            hospitality: [
                'contact information', 'professional summary', 'work experience', 
                'skills', 'education', 'languages', 'certifications'
            ],
            manufacturing: [
                'contact information', 'professional summary', 'work experience', 
                'technical skills', 'education', 'certifications', 'achievements'
            ],
            retail: [
                'contact information', 'professional summary', 'work experience', 
                'skills', 'achievements', 'education', 'certifications'
            ],
            legal: [
                'contact information', 'professional summary', 'experience', 
                'education', 'bar admissions', 'publications', 'affiliations'
            ],
            creative: [
                'contact information', 'professional summary', 'portfolio highlights', 
                'work experience', 'skills', 'education', 'awards'
            ]
        };
        
        // Experience level recommendations
        const experienceLevelTips = {
            entry: {
                focus: [
                    'Education should come before work experience',
                    'Highlight relevant coursework and projects',
                    'Include internships and volunteer experience',
                    'Focus on skills and potential rather than years of experience',
                    'Emphasize soft skills and eagerness to learn'
                ],
                avoid: [
                    'Don\'t use a lengthy professional summary',
                    'Avoid claiming expertise without backing it up',
                    'Don\'t omit relevant academic achievements',
                    'Avoid generic objectives'
                ]
            },
            mid: {
                focus: [
                    'Emphasize achievements and results with metrics',
                    'Highlight career progression and increased responsibilities',
                    'Showcase specific technical skills relevant to your field',
                    'Include certifications and continued education',
                    'Balance education and experience (focus more on experience)'
                ],
                avoid: [
                    'Don\'t include entry-level responsibilities that are assumed knowledge',
                    'Avoid focusing too much on education rather than work achievements',
                    'Don\'t use vague descriptions without measurable results',
                    'Avoid listing every job duty instead of accomplishments'
                ]
            },
            senior: {
                focus: [
                    'Emphasize leadership and management experience',
                    'Showcase strategic thinking and big-picture contributions',
                    'Highlight team development and mentorship',
                    'Focus on significant project outcomes and business impact',
                    'Include industry recognition and thought leadership'
                ],
                avoid: [
                    'Don\'t focus on routine job duties',
                    'Avoid listing basic skills expected at your level',
                    'Don\'t include positions from 15+ years ago in detail',
                    'Avoid including dates for education if graduation was 10+ years ago'
                ]
            },
            executive: {
                focus: [
                    'Emphasize leadership vision and strategic direction',
                    'Showcase business growth and transformation initiatives',
                    'Highlight P&L responsibility and financial results',
                    'Focus on cross-functional leadership and executive relationships',
                    'Include board experience and industry influence'
                ],
                avoid: [
                    'Don\'t include tactical responsibilities that belong to your teams',
                    'Avoid technical details unless specifically relevant',
                    'Don\'t list basic management skills expected at executive level',
                    'Avoid a lengthy resume (keep to 2 pages maximum)'
                ]
            }
        };
        
        // Common resume red flags
        const resumeRedFlags = [
            'Generic objective statement',
            'No quantifiable achievements',
            'Spelling and grammar errors',
            'Unprofessional email address',
            'Unexplained employment gaps',
            'Outdated skills or technologies',
            'Excessive personal information',
            'Irrelevant job experience',
            'Poor formatting and readability',
            'Missing contact information',
            'Too long or too short',
            'Too much jargon or acronyms',
            'Missing keywords for ATS systems',
            'Inconsistent verb tenses',
            'Lack of specificity'
        ];
        
        // Resume improvement templates by section
        const improvementTemplates = {
            summary: {
                weak: "Currently looking for a job in [field] where I can use my skills.",
                strong: "Results-driven [job title] with [X] years of experience in [specific skills]. Proven track record of [key achievement] resulting in [measurable outcome]. Skilled in [relevant skill] and [relevant skill], seeking to leverage expertise in [target role/company]."
            },
            experience: {
                weak: "Responsible for managing projects and leading a team.",
                strong: "Led cross-functional team of 8 professionals in delivering 12 high-priority projects, reducing delivery time by 30% and saving $200K annually through process improvements."
            },
            skills: {
                weak: "Good at communication and teamwork.",
                strong: "Advanced proficiency in cross-functional team leadership, project management (PMP certified), stakeholder communication, and conflict resolution, demonstrated through successful delivery of 5 enterprise-level projects."
            },
            education: {
                weak: "Bachelor's Degree in Business Administration",
                strong: "Bachelor of Science in Business Administration, University of California, Berkeley\n• GPA: 3.8/4.0, Dean's List (4 semesters)\n• Relevant Coursework: Financial Analysis, Marketing Strategy, Business Intelligence\n• Leadership: President, Business Students Association"
            }
        };
        
        // ATS optimization tips
        const atsTips = [
            {
                title: "Use Standard Section Headings",
                description: "ATS systems are programmed to recognize standard section headers like 'Experience,' 'Education,' 'Skills,' etc. Avoid creative alternatives.",
                example: "Use 'Work Experience' instead of 'Where I've Made An Impact'"
            },
            {
                title: "Match Keywords from Job Descriptions",
                description: "Incorporate relevant keywords and phrases from the job description to increase your match score.",
                example: "If the job requires 'project management,' use that exact phrase rather than 'managing projects'"
            },
            {
                title: "Avoid Tables and Columns",
                description: "Many ATS systems struggle with parsing multi-column layouts and tables.",
                example: "Use a single-column format for all content to ensure proper parsing"
            },
            {
                title: "Use Standard File Formats",
                description: "Submit your resume as a .docx or .pdf file. Some older ATS systems have trouble with .pdf files.",
                example: "When in doubt, have both .docx and .pdf versions ready"
            },
            {
                title: "Include Location Information",
                description: "Many ATS systems filter by location, so include your city and state.",
                example: "Include 'San Francisco, CA' or 'Remote - Based in Chicago, IL'"
            },
            {
                title: "Use Full Names of Organizations",
                description: "Include the full name of companies and organizations before using acronyms.",
                example: "Write 'Certified Public Accountant (CPA)' instead of just 'CPA'"
            }
        ];
        
        // Event listeners
        browseBtn.addEventListener('click', () => resumeUpload.click());
        resumeUpload.addEventListener('change', handleFileSelect);
        dropZone.addEventListener('dragover', handleDragOver);
        dropZone.addEventListener('dragleave', handleDragLeave);
        dropZone.addEventListener('drop', handleDrop);
        resumeForm.addEventListener('submit', analyzeResume);
        industrySelect.addEventListener('change', function() {
            resumeData.industry = this.value;
        });
        experienceSelect.addEventListener('change', function() {
            resumeData.experienceLevel = this.value;
        });
        printBtn.addEventListener('click', function() {
            window.print();
        });
        
        // Tab switching logic
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', function() {
                // Remove active class from all tabs and content
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                
                // Add active class to clicked tab and corresponding content
                this.classList.add('active');
                document.getElementById(this.dataset.tab).classList.add('active');
            });
        });
        
        function handleFileSelect(e) {
            const file = e.target.files[0];
            if (file) {
                displayFileName(file.name);
                analyzeBtn.disabled = false;
            }
        }
        
        function handleDragOver(e) {
            e.preventDefault();
            e.stopPropagation();
            dropZone.classList.add('drag-over');
        }
        
        function handleDragLeave(e) {
            e.preventDefault();
            e.stopPropagation();
            dropZone.classList.remove('drag-over');
        }
        
        function handleDrop(e) {
            e.preventDefault();
            e.stopPropagation();
            dropZone.classList.remove('drag-over');
            
            const file = e.dataTransfer.files[0];
            if (file) {
                const validTypes = ['application/pdf', 'application/msword', 
                                    'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];
                if (validTypes.includes(file.type)) {
                    resumeUpload.files = e.dataTransfer.files;
                    displayFileName(file.name);
                    analyzeBtn.disabled = false;
                } else {
                    alert('Please upload a PDF or Word document');
                }
            }
        }
        
        function displayFileName(name) {
            fileName.textContent = `Selected file: ${name}`;
        }
        
        async function analyzeResume(e) {
            e.preventDefault();
            
            const file = resumeUpload.files[0];
            if (!file) return;
            
            // Show loading state
            loadingElement.style.display = 'block';
            resultsElement.style.display = 'none';
            
            try {
                // Step 1: Extract text from the document
                analysisStep.textContent = "Extracting text content...";
                const text = await extractTextFromFile(file);
                resumeData.text = text;
                resumeText.value = text;
                
                // Step 2: Analyze the text
                analysisStep.textContent = "Analyzing content...";
                const analysisResults = analyzeText(text);
                resumeData.analysis = analysisResults;
                
                // Step 3: Display results
                displayResults(analysisResults);
                
            } catch (error) {
                console.error('Analysis error:', error);
                alert('Error analyzing resume: ' + error.message);
            } finally {
                loadingElement.style.display = 'none';
            }
        }
        
        async function extractTextFromFile(file) {
            if (file.type === 'application/pdf') {
                return await extractTextFromPDF(file);
            } else {
                return await extractTextFromWord(file);
            }
        }
        
        async function extractTextFromPDF(file) {
            try {
                const arrayBuffer = await file.arrayBuffer();
                const pdf = await pdfjsLib.getDocument(arrayBuffer).promise;
                let text = '';
    
                for (let i = 1; i <= pdf.numPages; i++) {
                    const page = await pdf.getPage(i);
                    const content = await page.getTextContent();
                    text += content.items.map(item => item.str).join(' ') + '\n';
                }
                return text;
            } catch(error) {
                console.error("Error extracting text from PDF", error);
                throw new Error("Error extracting text from PDF. Please ensure the PDF is not corrupted.");
            }
        }
        
        async function extractTextFromWord(file) {
            try {
                const arrayBuffer = await file.arrayBuffer();
                const result = await mammoth.extractRawText({ arrayBuffer });
                return result.value;
            } catch(error) {
                console.error("Error extracting text from Word", error);
                throw new Error("Error extracting text from Word. Please ensure the Word document is not corrupted.");
            }
        }
        
        function analyzeText(text) {
            // Convert to lowercase for case-insensitive analysis
            const content = text.toLowerCase();
            
            // Calculate scores based on various factors
            const analysis = {
                sections: analyzeResumeSections(content),
                language: analyzeResumeLanguage(content),
                content: analyzeResumeContent(content),
                industry: analyzeIndustryMatch(content, resumeData.industry),
                experienceLevel: analyzeExperienceLevelMatch(content, resumeData.experienceLevel),
                ats: analyzeATSCompatibility(content),
                redFlags: findResumeRedFlags(content)
            };
            
            // Calculate overall score (weighted average)
            const overallScore = calculateOverallScore(analysis);
            
            // Generate feedback
            const feedback = generateFeedback(analysis, overallScore);
            
            // Current date for the report
            const currentDate = new Date().toLocaleDateString();
            
            return {
                score: overallScore,
                feedback,
                analysis,
                wordCount: content.split(/\s+/).length,
                date: currentDate
            };
        }
        
        function analyzeResumeSections(content) {
            const sections = {
                contact: /(contact|personal) information|contact details/,
                summary: /summary|profile|objective|professional (summary|profile)/,
                experience: /work experience|professional experience|employment|history|work history/,
                education: /education|academic|degree|university|college/,
                skills: /skills|technical skills|core competencies|qualifications|expertise/,
                certifications: /certifications|certificates|licenses|accreditations/,
                achievements: /achievements|accomplishments|awards|honors/,
                projects: /projects|portfolio|works/,
                languages: /languages|language proficiency/,
                interests: /interests|hobbies|activities/,
                references: /references|recommendations/,
                publications: /publications|papers|research|presentations/,
                volunteering: /volunteer|community service|civic engagement/
            };
            
            // Check which sections are present
            const foundSections = {};
            let sectionScore = 0;
            let totalSections = 0;
            let essentialSectionCount = 0;
            const essentialSections = ['contact', 'summary', 'experience', 'education', 'skills'];
            
            for (const [section, regex] of Object.entries(sections)) {
                foundSections[section] = regex.test(content);
                
                if (foundSections[section]) {
                    totalSections++;
                    
                    // Give more weight to essential sections
                    if (essentialSections.includes(section)) {
                        sectionScore += 15;
                        essentialSectionCount++;
                    } else {
                        sectionScore += 5;
                    }
                }
            }
            
            // Calculate section score (max 100)
            // 75 points for essential sections, 25 for other sections
            const essentialScore = (essentialSectionCount / essentialSections.length) * 75;
            const otherScore = Math.min(((totalSections - essentialSectionCount) / (Object.keys(sections).length - essentialSections.length)) * 25, 25);
            sectionScore = Math.min(Math.round(essentialScore + otherScore), 100);
            
            return {
                found: foundSections,
                totalFound: totalSections,
                essentialFound: essentialSectionCount,
                score: sectionScore
            };
        }
        
        function analyzeResumeLanguage(content) {
            // Check for action verbs
            const allActionVerbs = Object.values(industryVerbs).flat();
            const uniqueActionVerbs = [...new Set(allActionVerbs)];

            const foundVerbs = uniqueActionVerbs.filter(verb => {
                const regex = new RegExp('\\b' + verb + '\\b', 'i');
                return regex.test(content);
            });

            // Check for passive language
            const passiveIndicators = [
                'was handled', 'were handled', 'was managed', 'were managed',
                'was performed', 'were performed', 'was responsible for',
                'were responsible for', 'was tasked with', 'were tasked with',
                'is responsible for', 'are responsible for'
            ];

            const foundPassive = passiveIndicators.filter(phrase => content.includes(phrase));

            // Check for filler words
            const fillerWords = [
                'very', 'really', 'basically', 'actually', 'literally',
                'just', 'quite', 'simply', 'that', 'totally', 'completely'
            ];

            const foundFillers = fillerWords.filter(word => {
                const regex = new RegExp('\\b' + word + '\\b', 'i');
                return regex.test(content);
            });

            // Calculate action verb score (max 40 points)
            let verbScore = 0;
            if (foundVerbs.length >= 15) verbScore = 40;
            else if (foundVerbs.length >= 10) verbScore = 30;
            else if (foundVerbs.length >= 5) verbScore = 20;
            else if (foundVerbs.length > 0) verbScore = 10;

            // Calculate passive language penalty (max -30 points)
            const passivePenalty = Math.min(foundPassive.length * 5, 30);

            // Calculate filler words penalty (max -30 points)
            const fillerPenalty = Math.min(foundFillers.length * 3, 30);

            // Calculate overall language score
            const languageScore = Math.max(Math.min(100 - passivePenalty - fillerPenalty + verbScore, 100), 0);

            return {
                actionVerbs: {
                    found: foundVerbs,
                    count: foundVerbs.length
                },
                passiveLanguage: {
                    found: foundPassive,
                    count: foundPassive.length
                },
                fillerWords: {
                    found: foundFillers,
                    count: foundFillers.length
                },
                score: languageScore
            };
        }

        function analyzeIndustryMatch(content, industry) {
            const industrySpecificKeywords = industryKeywords[industry] || industryKeywords.general;
            const industrySpecificVerbs = industryVerbs[industry] || industryVerbs.general;
            const recommendedSections = industrySections[industry] || industrySections.general;

            // Check for industry keywords
            const foundKeywords = industrySpecificKeywords.filter(keyword => {
                const regex = new RegExp('\\b' + keyword.replace(/[\/\-]/g, '\\$&') + '\\b', 'i');
                return regex.test(content);
            });

            // Check for industry verbs
            const foundVerbs = industrySpecificVerbs.filter(verb => {
                const regex = new RegExp('\\b' + verb + '\\b', 'i');
                return regex.test(content);
            });

            // Check for recommended sections
            const foundSections = recommendedSections.filter(section => {
                const regex = new RegExp(section, 'i');
                return regex.test(content);
            });

            // Calculate keyword match score (50 points)
            const keywordMatchScore = Math.min(Math.round((foundKeywords.length / industrySpecificKeywords.length) * 50), 50);

            // Calculate verb match score (30 points)
            const verbMatchScore = Math.min(Math.round((foundVerbs.length / industrySpecificVerbs.length) * 30), 30);

            // Calculate section match score (20 points)
            const sectionMatchScore = Math.min(Math.round((foundSections.length / recommendedSections.length) * 20), 20);

            // Overall industry match score
            const industryScore = keywordMatchScore + verbMatchScore + sectionMatchScore;

            // Find missing industry keywords (for recommendations)
            const missingKeywords = industrySpecificKeywords.filter(keyword => !foundKeywords.includes(keyword));

            // Find missing industry verbs (for recommendations)
            const missingVerbs = industrySpecificVerbs.filter(verb => !foundVerbs.includes(verb));

            // Find missing recommended sections
            const missingSections = recommendedSections.filter(section => !foundSections.includes(section));

            return {
                keywords: {
                    found: foundKeywords,
                    missing: missingKeywords.slice(0, 10), // Limit to top 10 recommendations
                    score: keywordMatchScore
                },
                verbs: {
                    found: foundVerbs,
                    missing: missingVerbs.slice(0, 5), // Limit to top 5 recommendations
                    score: verbMatchScore
                },
                sections: {
                    found: foundSections,
                    missing: missingSections,
                    score: sectionMatchScore
                },
                score: industryScore
            };
        }

        function analyzeExperienceLevelMatch(content, level) {
            // Words and phrases that indicate experience level
            const levelIndicators = {
                entry: [
                    'intern', 'internship', 'entry-level', 'junior', 'assistant',
                    'student', 'graduate', 'recent graduate', 'coursework', 'gpa'
                ],
                mid: [
                    'experienced', 'senior', 'lead', 'coordinator', 'specialist',
                    '3+ years', '5+ years', 'project lead', 'supervisor', 'manager'
                ],
                senior: [
                    'senior', 'manager', 'head of', 'director', 'leader',
                    '7+ years', '10+ years', 'strategic', 'expert', 'principal'
                ],
                executive: [
                    'executive', 'chief', 'ceo', 'cto', 'cfo', 'president',
                    'vice president', 'vp', 'director', 'board member',
                    '15+ years', 'executive leadership', 'strategic vision'
                ]
            };

            // Check for level-appropriate indicators
            const foundIndicators = levelIndicators[level].filter(indicator => {
                const regex = new RegExp('\\b' + indicator + '\\b', 'i');
                return regex.test(content);
            });

            // Calculate match score (0-100)
            const matchScore = Math.min(Math.round((foundIndicators.length / levelIndicators[level].length) * 100), 100);

            return {
                level,
                indicators: {
                    found: foundIndicators,
                    expected: levelIndicators[level]
                },
                tips: experienceLevelTips[level],
                score: matchScore
            };
        }
        
        function analyzeATSCompatibility(content) {
            const atsChecks = {
                formatting: {
                    tables: /<table|<td|<tr/i.test(content),
                    specialCharacters: /[§¶®™©]/g.test(content),
                    complexFormatting: /<(div|span) style=/i.test(content)
                },
                headers: {
                    standardSections: [
                        'education',
                        'experience',
                        'work history',
                        'skills',
                        'qualifications',
                        'certifications',
                        'summary',
                        'contact'
                    ].some(header => new RegExp(`\\b${header}\\b`, 'i').test(content))
                },
                contact: {
                    hasPhone: /(\+\d{1,3}[-.]?)?\d{3}[-.]?\d{3}[-.]?\d{4}/.test(content),
                    hasEmail: /[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/.test(content),
                    hasLocation: /[A-Z][a-zA-Z\s]+,\s*[A-Z]{2}/.test(content)
                }
            };

            // Calculate scores for each category
            const formattingScore = Object.values(atsChecks.formatting).filter(v => !v).length * 20; // 60 max
            const headerScore = atsChecks.headers.standardSections ? 20 : 0; // 20 max
            const contactScore = Object.values(atsChecks.contact).filter(v => v).length * 6.67; // 20 max

            // Overall ATS compatibility score
            const totalScore = Math.round(formattingScore + headerScore + contactScore);

            return {
                score: totalScore,
                issues: {
                    formatting: {
                        hasTables: atsChecks.formatting.tables,
                        hasSpecialCharacters: atsChecks.formatting.specialCharacters,
                        hasComplexFormatting: atsChecks.formatting.complexFormatting
                    },
                    structure: {
                        hasStandardHeaders: atsChecks.headers.standardSections
                    },
                    contact: atsChecks.contact
                },
                recommendations: getATSRecommendations(atsChecks)
            };
        }

        function getATSRecommendations(checks) {
            const recommendations = [];

            if (checks.formatting.tables) {
                recommendations.push('Remove tables and use standard text formatting');
            }
            if (checks.formatting.specialCharacters) {
                recommendations.push('Remove special characters and symbols');
            }
            if (checks.formatting.complexFormatting) {
                recommendations.push('Simplify formatting to ensure ATS compatibility');
            }
            if (!checks.headers.standardSections) {
                recommendations.push('Use standard section headers (e.g., "Experience", "Education", "Skills")');
            }
            if (!checks.contact.hasPhone || !checks.contact.hasEmail || !checks.contact.hasLocation) {
                recommendations.push('Include complete contact information (phone, email, location)');
            }

            return recommendations;
        }
        
        function findResumeRedFlags(content) {
            // Placeholder for finding red flags
            return resumeRedFlags.filter(flag => content.includes(flag));
        }
        
        function analyzeResumeContent(content) {
            // Basic content analysis: word count, sentence count, average sentence length, quantifiable results, achievements
            const wordCount = content.split(/\s+/).length;
            const sentenceCount = (content.match(/[.!?]+/g) || []).length;
            const averageSentenceLength = sentenceCount > 0 ? wordCount / sentenceCount : wordCount;

            // Quantifiable results
            const hasNumbers = /\d+/.test(content);
            const hasPercent = /\d+\s*%/.test(content);
            const hasDollar = /\$\d+/.test(content);

            // Achievement indicators
            const achievementPhrases = [
                'increased', 'decreased', 'improved', 'reduced', 'saved',
                'achieved', 'awarded', 'exceeded', 'generated', 'delivered',
                'initiated', 'launched', 'led', 'managed', 'supervised',
                'trained', 'developed', 'implemented', 'created', 'designed'
            ];
            const foundAchievements = achievementPhrases.filter(phrase => content.includes(phrase));

            // Simple scoring
            let score = 0;
            if (wordCount > 400 && wordCount < 1200) score += 30;
            if (hasNumbers) score += 15;
            if (hasPercent) score += 10;
            if (hasDollar) score += 10;
            if (foundAchievements.length > 0) score += 20;
            if (averageSentenceLength >= 8 && averageSentenceLength <= 25) score += 15;
            score = Math.min(score, 100);

            return {
                wordCount,
                sentenceCount,
                averageSentenceLength,
                quantifiableResults: { hasNumbers, hasPercent, hasDollar },
                achievements: { found: foundAchievements, count: foundAchievements.length },
                score
            };
        }
        
        function calculateOverallScore(analysis) {
            // Placeholder for overall score calculation
            return Math.round((analysis.sections.score + analysis.language.score + analysis.content.score + analysis.industry.score + analysis.experienceLevel.score + analysis.ats.score) / 6);
        }
        
        function generateFeedback(analysis, overallScore) {
            // Placeholder for feedback generation
            return {
                strengths: [],
                improvements: [],
                critical: []
            };
        }
        
        function displayResults(results) {
            // Placeholder for displaying results
            console.log(results);
        }
    </script>
</body>
</html>